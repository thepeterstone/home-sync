phpunit() {
	VAGRANT_OPTS="cd /vagrant/orchestration \\\; phpunit --colors --stop-on-error --stop-on-failure $@" up
}

phpunit-full() {
	phpunit -c phpunit-full.xml $@
}

logs() {
	VAGRANT_OPTS="sudo tail -f /opt/popcap/draper/backend/current/data/logs/application.log /var/log/apache2/error.log" up
}

help() {
	#FIXME - inherit a list from the parent shell or something
	local hilite="[1;36m"
	local reset="[0;39m"
	echo "Shell mode ${hilite}$SHELL_MODE${reset}. Available commands:"
	echo "  ${hilite}logs${reset} 	Bring up VM and tail application/error logs"
	echo "  ${hilite}mysql${reset} 	Bring up VM and run MySQL"
	echo "  ${hilite}phing${reset} 	Run a given phing command in the VM"
	echo "  ${hilite}phpunit${reset}	Run tests in the VM"
	echo "  ${hilite}rebuild${reset}	Rebase working copy against latest from origin, rebuild VM and run a full build"
	echo "  ${hilite}up${reset} 		Bring up VM and SSH into it, with options"
}

# sublime: syntax 'Packages/ShellScript/Shell-Unix-Generic.tmLanguage'
# vim: filetype=sh syntax=sh
